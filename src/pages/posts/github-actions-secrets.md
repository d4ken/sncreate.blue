---
layout: ../../layouts/MarkdownPostLayout.astro
title: "GitHub Pages Ã— Astroãƒ–ãƒ­ã‚°ã«GA4å°å…¥æ™‚ã®ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆ"
pubDate: 2025-08-24
description: "Github Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸãƒ–ãƒ­ã‚°ã«GAIDã‚’secretã«è¨­å®šã™ã‚‹æ™‚ã«æ‰‹è©°ã¾ã£ãŸç®‡æ‰€ã«ã¤ã„ã¦è§£èª¬"
tags: ["blog", "github"]
thumbnail:
    "/thumbnails/james-wainscoat-t_Z53LIpPkk-unsplash.jpg"
author: "D4ken"
---

## ã¯ã˜ã‚ã«
å…ˆæ—¥ã€æœ¬ãƒ–ãƒ­ã‚°ã«Googleã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ï¼ˆGA4ï¼‰ã‚’å°å…¥ã‚’è©¦ã¿ã¾ã—ãŸã€‚
ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯å•é¡ŒãªãGoogleã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã®IDï¼ˆGAIDï¼‰ãŒèª­ã¿è¾¼ã‚ã¦ã„ãŸã®ã«ã€ãªãœã‹æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨å…¨ãåæ˜ ã•ã‚Œãªã„â€¦ã€‚  
æ•°æ™‚é–“ãƒãƒã£ãŸã“ã®å•é¡Œã€åŸå› ã¯ **GitHubã®Secretsè¨­å®šã®å‹˜é•ã„** ã¨ã„ã†ã€ã‚·ãƒ³ãƒ—ãƒ«ãªã‚‚ã®ã§ã—ãŸã€‚

---

## ä½•ãŒèµ·ãã¦ã„ãŸã‹ï¼Ÿ
çŠ¶æ³ã‚’æ•´ç†ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

1. `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«Googleã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã®IDï¼ˆ`G-XXXXXXXXXX`ï¼‰ã‚’è¨­å®šã€‚
2. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰å†…ã§ `import.meta.env.PUBLIC_GA_ID` ã®ã‚ˆã†ã«ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã«è¨˜è¿°ã€‚
3. ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ï¼ˆ`npm run dev`ï¼‰ã§èµ·å‹•ã—ã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§GAIDãŒHTMLã«åŸ‹ã‚è¾¼ã¾ã‚Œã€ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ä¸Šã§ã‚‚è¨ˆæ¸¬ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚
4. GitHubã«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã—ã€GitHub ActionsçµŒç”±ã§ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Ÿè¡Œã€‚
5. ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚ŒãŸæœ¬ç•ªã‚µã‚¤ãƒˆã‚’ç¢ºèªã™ã‚‹ã¨ã€GAIDãŒèª­ã¿è¾¼ã¾ã‚Œã¦ãŠã‚‰ãšã€ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ãŒå…¨ãæ©Ÿèƒ½ã—ã¦ã„ãªã„ã€‚

ã‚³ãƒ¼ãƒ‰ã«å•é¡Œã¯ãªãã€ãƒ‡ãƒ—ãƒ­ã‚¤ã‚‚æˆåŠŸã—ã¦ã„ã‚‹ã€‚  
ãã‚Œãªã®ã«ç’°å¢ƒå¤‰æ•°ã ã‘ãŒç©ºã«ãªã£ã¦ã„ã‚‹ç¾è±¡ã«é ­ã‚’æ‚©ã¾ã›ã¦ã„ã¾ã—ãŸã€‚

---

## åŸå› ï¼šGitHub Secretsã¯2ç¨®é¡ã‚ã£ãŸ
çµè«–ã‹ã‚‰è¨€ã†ã¨ã€åŸå› ã¯ **GitHub Actionsã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ã¹ãæ­£ã—ã„å ´æ‰€ã«Secretã‚’è¨­å®šã—ã¦ã„ãªã‹ã£ãŸ** ã“ã¨ã§ã—ãŸã€‚

GitHub Actionsã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å†…ã§ `${{ secrets.HOGEHOGE }}` ã¨ã„ã†æ§‹æ–‡ã§å€¤ã‚’å‚ç…§ã™ã‚‹ã«ã¯ã€  
**Repository secrets** ã«ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ç§ãŒè¨­å®šã—ã¦ã„ãŸã®ã¯ **Environment secrets** ã§ã—ãŸã€‚  



ãã®ãŸã‚ã€GitHub ActionsãŒå®Ÿè¡Œã•ã‚Œã‚‹éš›ã«ã€Œãã‚“ãªSecretã¯å­˜åœ¨ã—ãªã„ã€ã¨åˆ¤æ–­ã•ã‚Œã€ç’°å¢ƒå¤‰æ•°ãŒç©ºã®ã¾ã¾ãƒ“ãƒ«ãƒ‰ãŒé€²ã‚“ã§ã„ã¾ã—ãŸã€‚(æ­£å¸¸ã«å€¤ãŒåæ˜ ã•ã‚Œã¦ã„ã‚Œã° "PUBLIC_GA_ID=***" ã®ã‚ˆã†ã«ãƒã‚¹ã‚¯è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚)


---

## GitHub Actionsã§åˆ©ç”¨ã™ã‚‹Secretsã®è¨­å®šæ–¹æ³•
1. å¯¾è±¡ã®ãƒªãƒã‚¸ãƒˆãƒªã«ç§»å‹•ã—ã€ **[Settings]** ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
2. å·¦å´ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ **[Security] > [Secrets and variables] > [Actions]** ã‚’é¸æŠã€‚
3. **[New repository secret]** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
4. **Name** æ¬„ã«ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã§å‚ç…§ã—ãŸã„åå‰ï¼ˆä¾‹ï¼š`GA_ID`ï¼‰ã‚’å…¥åŠ›ã€‚
5. **Secret** æ¬„ã«ã€ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã€‚
6. **[Add secret]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä¿å­˜ã€‚



---

## ã¾ã¨ã‚
ã“ã®è¨­å®šã‚’è¡Œã£ãŸå¾Œã€å†åº¦GitHub Actionsã‚’å‹•ã‹ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã¨ã“ã‚ã€ç„¡äº‹ã«æœ¬ç•ªç’°å¢ƒã§ã‚‚Googleã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã®IDãŒèª­ã¿è¾¼ã¾ã‚Œã€è¨ˆæ¸¬ãŒé–‹å§‹ã•ã‚Œã¾ã—ãŸã€‚ ğŸ‰

---
å‚è€ƒãƒªãƒ³ã‚¯:

>[Github Actionsã§SecretãŒå–å¾—ã§ããªã„ã¨ãã«ç–‘ã†ã“ã¨](https://qiita.com/shotaqiita/items/4f1df41db56e8902b325)
